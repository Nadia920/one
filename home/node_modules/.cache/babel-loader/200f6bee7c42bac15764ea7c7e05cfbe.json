{"remainingRequest":"D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\документы\\GitHub\\one\\home\\src\\views\\ArticleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\документы\\GitHub\\one\\home\\src\\views\\ArticleEdit.vue","mtime":1626212836000},{"path":"D:\\документы\\GitHub\\one\\home\\babel.config.js","mtime":1626212836000},{"path":"D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680503952892},{"path":"D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1680504144232},{"path":"D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680503952892},{"path":"D:\\документы\\GitHub\\one\\home\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1680504319910}],"contextDependencies":[],"result":["import _objectSpread from \"D:/\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/one/home/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"D:/\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/one/home/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/\\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/GitHub/one/home/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from \"vuex\";\nimport store from \"@/store\";\nimport RwvListErrors from \"@/components/ListErrors\";\nimport { ARTICLE_PUBLISH, ARTICLE_EDIT, FETCH_ARTICLE, ARTICLE_EDIT_ADD_TAG, ARTICLE_EDIT_REMOVE_TAG, ARTICLE_RESET_STATE } from \"@/store/actions.type\";\nexport default {\n  name: \"RwvArticleEdit\",\n  components: {\n    RwvListErrors: RwvListErrors\n  },\n  props: {\n    previousArticle: {\n      type: Object,\n      required: false\n    }\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(to, from, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return store.dispatch(ARTICLE_RESET_STATE);\n          case 2:\n            return _context.abrupt(\"return\", next());\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return store.dispatch(ARTICLE_RESET_STATE);\n          case 2:\n            if (!(to.params.slug !== undefined)) {\n              _context2.next = 5;\n              break;\n            }\n            _context2.next = 5;\n            return store.dispatch(FETCH_ARTICLE, to.params.slug, to.params.previousArticle);\n          case 5:\n            return _context2.abrupt(\"return\", next());\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return store.dispatch(ARTICLE_RESET_STATE);\n          case 2:\n            next();\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  data: function data() {\n    return {\n      tagInput: null,\n      inProgress: false,\n      errors: {}\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"article\"])),\n  methods: {\n    onPublish: function onPublish(slug) {\n      var _this = this;\n      var action = slug ? ARTICLE_EDIT : ARTICLE_PUBLISH;\n      this.inProgress = true;\n      this.$store.dispatch(action).then(function (_ref) {\n        var data = _ref.data;\n        _this.inProgress = false;\n        _this.$router.push({\n          name: \"article\",\n          params: {\n            slug: data.article.slug\n          }\n        });\n      }).catch(function (_ref2) {\n        var response = _ref2.response;\n        _this.inProgress = false;\n        _this.errors = response.data.errors;\n      });\n    },\n    removeTag: function removeTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_REMOVE_TAG, tag);\n    },\n    addTag: function addTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_ADD_TAG, tag);\n      this.tagInput = null;\n    }\n  }\n};",{"version":3,"names":["mapGetters","store","RwvListErrors","ARTICLE_PUBLISH","ARTICLE_EDIT","FETCH_ARTICLE","ARTICLE_EDIT_ADD_TAG","ARTICLE_EDIT_REMOVE_TAG","ARTICLE_RESET_STATE","name","components","props","previousArticle","type","Object","required","beforeRouteUpdate","to","from","next","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","dispatch","abrupt","stop","beforeRouteEnter","_callee2","_callee2$","_context2","params","slug","undefined","beforeRouteLeave","_callee3","_callee3$","_context3","data","tagInput","inProgress","errors","computed","_objectSpread","methods","onPublish","_this","action","$store","then","_ref","$router","push","article","catch","_ref2","response","removeTag","tag","addTag"],"sources":["src/views/ArticleEdit.vue"],"sourcesContent":["<template>\n  <div class=\"editor-page\">\n    <div class=\"container page\">\n      <div class=\"row\">\n        <div class=\"col-md-10 offset-md-1 col-xs-12\">\n          <RwvListErrors :errors=\"errors\" />\n          <form @submit.prevent=\"onPublish(article.slug)\">\n            <fieldset :disabled=\"inProgress\">\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control form-control-lg\"\n                  v-model=\"article.title\"\n                  placeholder=\"Article Title\"\n                />\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"article.description\"\n                  placeholder=\"What's this article about?\"\n                />\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <textarea\n                  class=\"form-control\"\n                  rows=\"8\"\n                  v-model=\"article.body\"\n                  placeholder=\"Write your article (in markdown)\"\n                >\n                </textarea>\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter tags\"\n                  v-model=\"tagInput\"\n                  @keypress.enter.prevent=\"addTag(tagInput)\"\n                />\n                <div class=\"tag-list\">\n                  <span\n                    class=\"tag-default tag-pill\"\n                    v-for=\"(tag, index) of article.tagList\"\n                    :key=\"tag + index\"\n                  >\n                    <i class=\"ion-close-round\" @click=\"removeTag(tag)\"> </i>\n                    {{ tag }}\n                  </span>\n                </div>\n              </fieldset>\n            </fieldset>\n            <button\n              :disabled=\"inProgress\"\n              class=\"btn btn-lg pull-xs-right btn-primary\"\n              type=\"submit\"\n            >\n              Publish Article\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport store from \"@/store\";\nimport RwvListErrors from \"@/components/ListErrors\";\nimport {\n  ARTICLE_PUBLISH,\n  ARTICLE_EDIT,\n  FETCH_ARTICLE,\n  ARTICLE_EDIT_ADD_TAG,\n  ARTICLE_EDIT_REMOVE_TAG,\n  ARTICLE_RESET_STATE\n} from \"@/store/actions.type\";\n\nexport default {\n  name: \"RwvArticleEdit\",\n  components: { RwvListErrors },\n  props: {\n    previousArticle: {\n      type: Object,\n      required: false\n    }\n  },\n  async beforeRouteUpdate(to, from, next) {\n    // Reset state if user goes from /editor/:id to /editor\n    // The component is not recreated so we use to hook to reset the state.\n    await store.dispatch(ARTICLE_RESET_STATE);\n    return next();\n  },\n  async beforeRouteEnter(to, from, next) {\n    // SO: https://github.com/vuejs/vue-router/issues/1034\n    // If we arrive directly to this url, we need to fetch the article\n    await store.dispatch(ARTICLE_RESET_STATE);\n    if (to.params.slug !== undefined) {\n      await store.dispatch(\n        FETCH_ARTICLE,\n        to.params.slug,\n        to.params.previousArticle\n      );\n    }\n    return next();\n  },\n  async beforeRouteLeave(to, from, next) {\n    await store.dispatch(ARTICLE_RESET_STATE);\n    next();\n  },\n  data() {\n    return {\n      tagInput: null,\n      inProgress: false,\n      errors: {}\n    };\n  },\n  computed: {\n    ...mapGetters([\"article\"])\n  },\n  methods: {\n    onPublish(slug) {\n      let action = slug ? ARTICLE_EDIT : ARTICLE_PUBLISH;\n      this.inProgress = true;\n      this.$store\n        .dispatch(action)\n        .then(({ data }) => {\n          this.inProgress = false;\n          this.$router.push({\n            name: \"article\",\n            params: { slug: data.article.slug }\n          });\n        })\n        .catch(({ response }) => {\n          this.inProgress = false;\n          this.errors = response.data.errors;\n        });\n    },\n    removeTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_REMOVE_TAG, tag);\n    },\n    addTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_ADD_TAG, tag);\n      this.tagInput = null;\n    }\n  }\n};\n</script>\n"],"mappings":"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"}]}